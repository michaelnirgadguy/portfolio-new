/* Minimal, polished base — light/dark tokens compatible with shadcn/ui */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 1) Design tokens (HSL components so Tailwind's bg-foreground etc. work) */
:root {
  --background: 0 0% 99%;
  --foreground: 0 0% 9%;

  --muted: 210 16% 96%;
  --muted-foreground: 215 14% 34%;

  --popover: 0 0% 100%;
  --popover-foreground: 222.2 47.4% 11.2%;

  --card: 0 0% 100%;
  --card-foreground: 0 0% 9%;

  --border: 214 32% 92%;
  --input: 214 32% 92%;

  --primary: 0 0% 9%;
  --primary-foreground: 210 40% 98%;

  --secondary: 210 16% 96%;
  --secondary-foreground: 0 0% 9%;

  --accent: 267 100% 77%;
  --accent-foreground: 0 0% 9%;

  --destructive: 0 84% 60%;
  --destructive-foreground: 210 40% 98%;

  --ring: 222 84% 45%;

  --radius: 14px;

  /* Translucent surfaces */
  --surface-1: 0 0% 100% / 0.78;
  --surface-2: 218 26% 96% / 0.6;
  --surface-border-soft: 218 20% 88% / 0.6;
  --surface-border-strong: 267 100% 77% / 0.45;

  /* Chat bubble tokens */
  --bubble-assistant-from: 210 26% 98% / 0.94;
  --bubble-assistant-to: 210 24% 94% / 0.9;
  --bubble-assistant-border: 214 26% 86% / 0.95;
  --bubble-assistant-foreground: 0 0% 9%;

  --bubble-user-from: 267 96% 81% / 0.96;
  --bubble-user-to: 267 90% 72% / 0.95;
  --bubble-user-border: 267 76% 68% / 0.85;
  --bubble-user-foreground: 0 0% 9%;

  --bubble-shadow-soft: 0 12px 32px rgba(15, 23, 42, 0.12);
  --bubble-shadow-strong: 0 16px 42px rgba(15, 23, 42, 0.16);

  /* Background veil over hero image */
  --background-veil-strong: 0 0% 99%;
  --background-veil-strong-alpha: 0.62;

  /* Subtle, consistent shadows */
  --shadow-sm: 0 6px 14px rgba(15, 23, 42, 0.06);
  --shadow-md: 0 14px 36px rgba(15, 23, 42, 0.12);
  --shadow-lg: 0 24px 68px rgba(15, 23, 42, 0.16);
}

.dark {
  --background: 0 0% 7%;
  --foreground: 0 0% 96%;

  --muted: 223 13% 14%;
  --muted-foreground: 215 16% 70%;

  --popover: 0 0% 7%;
  --popover-foreground: 210 20% 98%;

  --card: 0 0% 9%;
  --card-foreground: 210 20% 98%;

  --border: 223 13% 18%;
  --input: 223 13% 18%;

  --primary: 210 20% 98%;
  --primary-foreground: 0 0% 9%;

  --secondary: 223 13% 14%;
  --secondary-foreground: 210 20% 98%;

  --accent: 267 100% 77%;
  --accent-foreground: 210 20% 98%;

  --destructive: 0 62% 50%;
  --destructive-foreground: 210 20% 98%;

  --ring: 217 91% 60%;

  --surface-1: 224 16% 12% / 0.72;
  --surface-2: 224 16% 10% / 0.55;
  --surface-border-soft: 223 16% 32% / 0.45;
  --surface-border-strong: 267 80% 78% / 0.5;

  --bubble-assistant-from: 224 16% 12% / 0.9;
  --bubble-assistant-to: 224 14% 16% / 0.9;
  --bubble-assistant-border: 223 16% 32% / 0.65;
  --bubble-assistant-foreground: 210 20% 98%;

  --bubble-user-from: 267 78% 70% / 0.94;
  --bubble-user-to: 267 72% 60% / 0.94;
  --bubble-user-border: 267 80% 78% / 0.6;
  --bubble-user-foreground: 210 20% 98%;

  --bubble-shadow-soft: 0 12px 32px rgba(0, 0, 0, 0.38);
  --bubble-shadow-strong: 0 16px 42px rgba(0, 0, 0, 0.46);

  --background-veil-strong: 0 0% 6%;
  --background-veil-strong-alpha: 0.55;

  --shadow-sm: 0 6px 14px rgba(0, 0, 0, 0.32);
  --shadow-md: 0 14px 36px rgba(0, 0, 0, 0.42);
  --shadow-lg: 0 24px 68px rgba(0, 0, 0, 0.5);
}

/* 2) Base element polish */
@layer base {
  * {
    @apply border-border;
  }
  html, body {
    height: 100%;
  }
  body {
    @apply text-foreground antialiased;
    font-feature-settings: "ss01" on, "liga" on, "calt" on;
    text-rendering: optimizeLegibility;
    background-color: hsl(var(--background));
    background-image: none;
  }
  h1, h2, h3 {
    @apply tracking-tight;
  }
  a {
    @apply underline underline-offset-4 decoration-[hsl(var(--border))] hover:decoration-[hsl(var(--foreground))];
  }
  ::selection {
    background: hsl(var(--accent));
    color: hsl(var(--accent-foreground));
  }
}

/* 3) Nice default surfaces */
@layer components {
  .surface {
    background: hsl(var(--card));
    color: hsl(var(--card-foreground));
    border: 1px solid hsl(var(--border));
    border-radius: var(--radius);
    box-shadow: var(--shadow-sm);
  }
  .elevated {
    box-shadow: var(--shadow-md);
  }
  .elevated-lg {
    box-shadow: var(--shadow-lg);
  }
  .glass-surface {
    position: relative;
    border-radius: var(--radius);
    border: 1px solid transparent;
    background:
      linear-gradient(135deg, hsl(var(--surface-1)), hsl(var(--surface-2))) padding-box,
      linear-gradient(120deg, hsl(var(--surface-border-soft)), hsl(var(--accent) / 0.35), hsl(var(--surface-border-strong))) border-box;
    box-shadow: var(--shadow-md);
    backdrop-filter: blur(18px) saturate(1.05);
    -webkit-backdrop-filter: blur(18px) saturate(1.05);
  }
  .container-prose {
    @apply max-w-3xl mx-auto px-4 sm:px-6 lg:px-8;
  }
 
  /* Portfolio typography scale */
  .heading-primary { @apply text-2xl md:text-3xl font-semibold text-foreground; }
  .heading-secondary { @apply text-xl md:text-2xl font-medium text-foreground; }

  /* Meta text */
  .meta-secondary { @apply text-base text-muted-foreground; }  /* client */
  .meta-tertiary  { @apply text-sm  text-muted-foreground; }  /* credits */

}

/* 4) Subtle motion (respect reduce-motion) */
@media (prefers-reduced-motion: no-preference) {
  .fade-in {
    animation: fade-in 300ms ease-out both;
  }
  .slide-up {
    animation: slide-up 350ms cubic-bezier(.2,.7,.2,1) both;
  }
}
@keyframes fade-in {
  from { opacity: 0 }
  to   { opacity: 1 }
}
@keyframes slide-up {
  from { opacity: 0; transform: translateY(8px) }
  to   { opacity: 1; transform: translateY(0) }
}
.hamster-wheel {
  width: 100px;
  height: 100px;
  background: url("/still-shity-sprite.png") 0 0 no-repeat;
  background-size: 600px 100px; /* total sheet size = 6 × 100 */
  animation: hamsterRun6 0.6s steps(6) infinite;
  display: inline-block;
}

@keyframes hamsterRun6 {
  from { background-position-x: 0px; }
  to   { background-position-x: -600px; }
}

.hamster-wheel--small {
  transform: scale(0.4);      /* makes it appear ~40×40 */
  transform-origin: top left; /* keeps it aligned correctly */
}

@media (max-width: 639px) {
  .chip-scroll-hint {
    -webkit-mask-image: linear-gradient(
      to right,
      transparent,
      black 14px,
      black calc(100% - 14px),
      transparent
    );
    mask-image: linear-gradient(
      to right,
      transparent,
      black 14px,
      black calc(100% - 14px),
      transparent
    );
  }
}



/* Chat input – border sweep with a moving accent segment */
/* Make the angle custom property smoothly animatable */
@property --chat-pill-angle {
  syntax: "<angle>";
  inherits: false;
  initial-value: 0deg;
}


.chat-pill-glow {
  position: relative;
  z-index: 0;
}

/* The animated border ring */
.chat-pill-glow::before {
  content: "";
  position: absolute;
  inset: -2px;               /* border thickness */
  border-radius: 9999px;     /* pill */
  padding: 2px;

  background:
    conic-gradient(
      from var(--chat-pill-angle),
      transparent 0deg,
      transparent 220deg,
      hsl(var(--accent)) 260deg,
      hsl(var(--accent)) 320deg,
      transparent 340deg,
      transparent 360deg
    );

  /* Hollow ring mask */
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;

  pointer-events: none;
  z-index: -1;

  animation: chat-pill-sweep 1.4s linear infinite;
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

@keyframes chat-pill-sweep {
  to {
    --chat-pill-angle: 360deg;
  }
}
